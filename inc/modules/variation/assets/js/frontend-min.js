!function(e){"use strict";e.fn.iori_variation_swatches_form=function(){return this.each((function(){var t=e(this),i=[];t.addClass("swatches-support").on("click",".swatch",(function(n){n.preventDefault();var s=e(this),a=s.closest(".value").find("select"),o=a.data("attribute_name")||a.attr("name"),c=s.data("value");if(a.trigger("focusin"),!a.find('option[value="'+c+'"]').length)return s.siblings(".swatch").removeClass("selected"),a.val(c).change(),void t.trigger("iori_no_matching_variations",[s]);o,-1===i.indexOf(o)&&i.push(o),s.hasClass("selected")?(a.val(""),s.removeClass("selected"),delete i[i.indexOf(o)]):(s.addClass("selected").siblings(".selected").removeClass("selected"),a.val(c)),a.change()})).on("click",".reset_variations",(function(){e(this).closest(".variations_form").find(".swatch.selected").removeClass("selected"),i=[]})).on("iori_no_matching_variations",(function(){window.alert(wc_add_to_cart_variation_params.i18n_no_matching_variations_text)}))}))},e((function(){e(".variations_form").iori_variation_swatches_form(),e(document.body).trigger("iori_initialized")})),jQuery(document).ready((function(){var e=jQuery(".swatch-popup");if(jQuery(".swatch-popup").find(".selected")){var t=jQuery("span.swatch.swatch-popup.selected").html();jQuery("#selected_popup_item").html(t)}e.on("click",(function(){jQuery(this).is(".selected")?jQuery("#selected_popup_item").empty():jQuery("#selected_popup_item").html(this.innerHTML)})),jQuery(".reset_variations").on("click",(function(){jQuery("#selected_popup_item").empty()}))}));var t=jQuery("#ji_popup_modal");if(t.length>0){var i=document.getElementById("ji_popup"),n=document.getElementsByClassName("close")[0];i.onclick=function(){t.style.display="block"},n.onclick=function(){t.style.display="none"},jQuery(".swatch-popup").on("click",(function(){jQuery("#ji_popup_modal").hide()})),jQuery("#selected_popup_item").on("click",(function(){jQuery("#ji_popup_modal").show()})),window.onclick=function(e){e.target==t&&(t.style.display="none")}}}(jQuery);